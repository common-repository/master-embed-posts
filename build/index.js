(()=>{"use strict";var e,t={763:()=>{const e=window.wp.element,t=window.wp.blocks,l=window.wp.i18n,a=window.wp.htmlEntities,r=JSON.parse('{"u2":"wpmaster/master-embed-posts"}'),n=function(t){let{icon:l,size:a=24,...r}=t;return(0,e.cloneElement)(l,{width:a,height:a,...r})},s=window.wp.primitives,o=(0,e.createElement)(s.SVG,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(s.Path,{d:"M8 7h2V5H8v2zm0 6h2v-2H8v2zm0 6h2v-2H8v2zm6-14v2h2V5h-2zm0 8h2v-2h-2v2zm0 6h2v-2h-2v2z"})),i=(0,e.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(s.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"})),c=(0,e.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(s.Path,{d:"M20 5h-5.7c0-1.3-1-2.3-2.3-2.3S9.7 3.7 9.7 5H4v2h1.5v.3l1.7 11.1c.1 1 1 1.7 2 1.7h5.7c1 0 1.8-.7 2-1.7l1.7-11.1V7H20V5zm-3.2 2l-1.7 11.1c0 .1-.1.2-.3.2H9.1c-.1 0-.3-.1-.3-.2L7.2 7h9.6z"})),m=window.wp.data,d=window.wp.coreData,p=window.wp.blockEditor,h=window.wp.components,u={chevronRight:(0,e.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(s.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"})),next:(0,e.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(s.Path,{d:"M6.6 6L5.4 7l4.5 5-4.5 5 1.1 1 5.5-6-5.4-6zm6 0l-1.1 1 4.5 5-4.5 5 1.1 1 5.5-6-5.5-6z"})),pin:(0,e.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(s.Path,{d:"m21.5 9.1-6.6-6.6-4.2 5.6c-1.2-.1-2.4.1-3.6.7-.1 0-.1.1-.2.1-.5.3-.9.6-1.2.9l3.7 3.7-5.7 5.7v1.1h1.1l5.7-5.7 3.7 3.7c.4-.4.7-.8.9-1.2.1-.1.1-.2.2-.3.6-1.1.8-2.4.6-3.6l5.6-4.1zm-7.3 3.5.1.9c.1.9 0 1.8-.4 2.6l-6-6c.8-.4 1.7-.5 2.6-.4l.9.1L15 4.9 19.1 9l-4.9 3.6z"})),arrowRight:(0,e.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(s.Path,{d:"m14.5 6.5-1 1 3.7 3.7H4v1.6h13.2l-3.7 3.7 1 1 5.6-5.5z"})),starEmpty:(0,e.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(s.Path,{fillRule:"evenodd",d:"M9.706 8.646a.25.25 0 01-.188.137l-4.626.672a.25.25 0 00-.139.427l3.348 3.262a.25.25 0 01.072.222l-.79 4.607a.25.25 0 00.362.264l4.138-2.176a.25.25 0 01.233 0l4.137 2.175a.25.25 0 00.363-.263l-.79-4.607a.25.25 0 01.072-.222l3.347-3.262a.25.25 0 00-.139-.427l-4.626-.672a.25.25 0 01-.188-.137l-2.069-4.192a.25.25 0 00-.448 0L9.706 8.646zM12 7.39l-.948 1.921a1.75 1.75 0 01-1.317.957l-2.12.308 1.534 1.495c.412.402.6.982.503 1.55l-.362 2.11 1.896-.997a1.75 1.75 0 011.629 0l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39z",clipRule:"evenodd"})),starHalf:(0,e.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(s.Path,{d:"M9.518 8.783a.25.25 0 00.188-.137l2.069-4.192a.25.25 0 01.448 0l2.07 4.192a.25.25 0 00.187.137l4.626.672a.25.25 0 01.139.427l-3.347 3.262a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.363.264l-4.137-2.176a.25.25 0 00-.233 0l-4.138 2.175a.25.25 0 01-.362-.263l.79-4.607a.25.25 0 00-.072-.222L4.753 9.882a.25.25 0 01.14-.427l4.625-.672zM12 14.533c.28 0 .559.067.814.2l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39v7.143z"})),starFilled:(0,e.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(s.Path,{d:"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z"}))},v=[{name:"Black",color:"#000"},{name:"White",color:"#fff"},{name:"Red",color:"#FF1616"},{name:"Orange",color:"#FF914D"},{name:"Yellow",color:"#FFDE59"},{name:"Green",color:"#7ED957"},{name:"Blue",color:"#5271FF"},{name:"Indigo",color:"#8C52FF"},{name:"Violet",color:"#7F00FF"}],w=[{title:"1:1",value:1},{title:"16:9",value:1.777777},{title:"4:3",value:1.333333},{title:"3:2",value:1.5}];function g(t){const{blockProps:r,attributes:{posts:s,layoutType:o,iconColor:i,iconName:c,iconSize:m,imageWidth:d,imageRatio:p}}=t;return(0,e.createElement)("div",r,s&&0===s.length&&(0,l.__)("No posts! Search and select the posts you want to embed in the setting sidebar.","master-embed-posts"),s&&s.length>0&&(0,e.createElement)("ul",{className:`layout-${o}`},s.map((t=>(0,e.createElement)("li",{key:t.id},"icon"==o&&(0,e.createElement)("div",{className:"bullet",style:{fill:i}},(0,e.createElement)(n,{icon:u[c],size:m})),"image"==o&&(0,e.createElement)("a",{className:"feature-image-wrapper",href:t.link,style:{flex:d+"",paddingTop:d/p+"%"}},t._embedded&&t._embedded["wp:featuredmedia"]&&(0,e.createElement)("img",{src:t._embedded["wp:featuredmedia"][0].media_details.sizes.medium.source_url,alt:"img"}),!t._embedded&&"No image"),(0,e.createElement)("div",{className:"text",style:{flex:100-d+""}},(0,e.createElement)("a",{href:t.link},(0,a.decodeEntities)(t.title.rendered))))))))}const E=(0,e.createElement)("svg",{fill:"#1c1c1c",width:"100px",height:"100px",viewBox:"-4.48 -4.48 40.96 40.96",version:"1.1",xmlns:"http://www.w3.org/2000/svg",transform:"matrix(-1, 0, 0, -1, 0, 0)rotate(180)",stroke:"#1c1c1c"},(0,e.createElement)("g",{id:"SVGRepo_bgCarrier","stroke-width":"0",transform:"translate(0,0), scale(1)"},(0,e.createElement)("path",{transform:"translate(-4.48, -4.48), scale(1.28)",d:"M16,28.73526639917067C17.74762967122406,28.76231089831418,19.12653040287024,27.225496266273062,20.836226230472025,26.862341960560336C23.022372253048612,26.397985477846646,25.685889598388776,27.68396636502599,27.444213065407205,26.304415727898828C29.105668723843266,25.00086592312904,29.134803115504877,22.402705308593895,29.210209581089156,20.29225728426052C29.278819828743224,18.372019271663174,27.824058417787146,16.674970071649753,27.856917867275158,14.75378771495211C27.89544027691166,12.50151097616722,30.406951395314664,10.277190548039059,29.416105536624972,8.254207856953148C28.456521371854244,6.295051305056754,25.220129899536992,7.020951721267828,23.446971895159894,5.750122521244974C21.68845932798131,4.4897897627084555,21.35562734126361,1.1445311919768604,19.202379145999473,0.9339906477650075C16.92606590929565,0.7114170360901684,15.641380024269488,3.7244901079023545,13.617021701281622,4.788968545615763C12.156415029849967,5.5570066394965725,10.489542211203945,5.685463367638399,8.965005054649403,6.317160146613343C7.1392380091981735,7.073672480085538,5.142058512330626,7.547454963287077,3.699522110493888,8.898315779332599C2.127478714908074,10.370453204437498,0.5225047496692788,12.209209125116576,0.3783697576212255,14.358100499771602C0.23360424204935176,16.516392274305954,2.076035963914543,18.260173172371637,2.9385250194421495,20.24393048303656C3.7300993084212175,22.064581159857067,3.7211625993140003,24.425321547775912,5.286341841198274,25.646621135409614C6.890808054682631,26.898576101629093,9.274482008403961,26.14993977254552,11.229959945821975,26.71368537467988C12.907625260934406,27.19734025267701,14.254218486824751,28.70825050019892,16,28.73526639917067",fill:"#ff8f00",strokewidth:"0"})),(0,e.createElement)("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round",stroke:"#CCCCCC","stroke-width":"0.064"}),(0,e.createElement)("g",{id:"SVGRepo_iconCarrier"},(0,e.createElement)("title",null,"list1"),(0,e.createElement)("path",{d:"M8 12h4v-4h-4v4zM8 18h4v-4h-4v4zM8 24h4v-4h-4v4zM14 8v4h10v-4h-10zM14 18h10v-4h-10v4zM14 24h10v-4h-10v4z"})));(0,t.registerBlockType)(r.u2,{icon:E,edit:t=>{let{attributes:r,setAttributes:s}=t;const{posts:E,layoutType:b,iconName:f,iconColor:C,iconSize:x,imageRatio:_,imageWidth:S}=r,[y,z]=(0,e.useState)(""),{searchResults:k,hasResolved:P}=(0,m.useSelect)((e=>{const t={};if(y){t.search=y,t.per_page=20,t._embed="wp:featuredmedia",t._fields="id,excerpt,title,link,_links,_embedded";const l=["postType","post",t];return{searchResults:e(d.store).getEntityRecords(...l),hasResolved:e(d.store).hasFinishedResolution("getEntityRecords",l)}}return{searchResults:[],hasResolved:!0}}),[y]),[R,B]=(0,e.useState)(null),[N,O]=(0,e.useState)(!1),V=(0,e.useRef)(null),D=(0,e.useRef)(null),M=(0,e.useRef)(null),F=()=>{if(V.current.id!==R.id){let e=E.filter((e=>e.id!==V.current.id)),t=M.current;M.current>D.current&&t--,N&&(t=e.length),e.splice(t,0,V.current),s({posts:e})}V.current=null,B(null),O(!1),M.current=null,D.current=null},G=(0,p.useBlockProps)();return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(p.InspectorControls,null,(0,e.createElement)(h.PanelBody,{title:(0,l.__)("Posts Setting","master-embed-posts"),intialOpen:!1},(0,e.createElement)("p",null,(0,l.__)("Search and insert the posts you want here","master-embed-posts")),(0,e.createElement)(h.TextControl,{type:"search",className:"wpmaster-text-control",label:(0,l.__)("Search"),value:y,onChange:e=>z(e)}),!P&&(0,e.createElement)(h.Spinner,null),y&&P&&!k?.length&&(0,e.createElement)("div",null,"No results"),k&&k.length>0&&(0,e.createElement)("ul",{className:"wpmaster-search-results"},k.map((t=>(0,e.createElement)(h.Tooltip,{text:"Select this item"},(0,e.createElement)("li",{key:t.id,onClick:()=>{return e=t,void(0!==E.length&&E.map((e=>e.id)).includes(e.id)||s({posts:[...E,e]}));var e}},(0,e.createElement)("div",{className:"title"},(0,e.createElement)("p",null,(0,a.decodeEntities)(t.title.rendered)),(0,e.createElement)("small",null,t.link))))))),(0,e.createElement)("p",null,(0,l.__)(`${E.length} Selected Items`,"master-embed-posts")),0!=E.length&&(0,e.createElement)("ul",{className:"wpmaster-selected-items"+(N?" drag-to-the-last":"")},E.map(((t,l)=>(0,e.createElement)("li",{className:`${l==E.length-1?"last":""}${R&&t.id===R.id?" dragged-over":""}`,id:`selected-item-${t.id}`,key:t.id,onDragOver:()=>{return e=l,O(!1),B(E[e]),void(M.current=e);var e}},(0,e.createElement)(h.Draggable,{elementId:`selected-item-${t.id}`,transferData:{},onDragStart:e=>{return t=l,V.current=E[t],void(D.current=t);var t},onDragEnd:F},(t=>{let{onDraggableStart:l,onDraggableEnd:a}=t;return(0,e.createElement)(h.Tooltip,{text:"Drag"},(0,e.createElement)("div",{style:{display:"flex"},className:"wpmaster-icon-control",draggable:!0,onDragStart:l,onDragEnd:a},(0,e.createElement)(n,{icon:o})))})),(0,e.createElement)("small",null,(0,a.decodeEntities)(t.title.rendered)),(0,e.createElement)(h.Tooltip,{text:"Options"},(0,e.createElement)("div",{className:"wpmaster-icon-control"},(0,e.createElement)(h.DropdownMenu,{icon:i,controls:[{icon:c,onClick:()=>{(e=>{let t=E.filter((t=>t.id!==e));s({posts:t})})(t.id)},title:"Delete"}]})))))),(0,e.createElement)("div",{style:{height:"15px",marginTop:"-5px"},onDragOver:()=>O(!0)}))),E.length>0&&(0,e.createElement)(h.PanelBody,null,(0,e.createElement)(h.SelectControl,{label:(0,l.__)("Layout"),onChange:function(e){s({layoutType:e})},value:b,options:["Default","Icon","Image"].map((e=>({label:e,value:e.toLowerCase()})))})),E.length>0&&"icon"==b&&(0,e.createElement)(h.PanelBody,{title:(0,l.__)("Icon Setting","master-embed-posts"),intialOpen:!1},(0,e.createElement)("div",{className:"wpmaster-spacer"},(0,e.createElement)("p",null,(0,l.__)("Shape","master-embed-posts")),(0,e.createElement)(h.ButtonGroup,null,Object.entries(u).map(((t,l)=>(0,e.createElement)(h.Button,{onClick:()=>{s({iconName:t[0]})},icon:t[1],key:l,isPressed:t[0]==f}))))),(0,e.createElement)("div",{className:"wpmaster-spacer"},(0,e.createElement)("p",null,(0,l.__)("Color","master-embed-posts")),(0,e.createElement)(h.ColorPalette,{value:C,colors:v,onChange:e=>s({iconColor:e})})),(0,e.createElement)("div",{className:"wpmaster-spacer"},(0,e.createElement)("p",null,(0,l.__)("Size","master-embed-posts")),(0,e.createElement)(h.RangeControl,{help:"Adjust icon size by drag this bar",initialPosition:x,max:100,min:1,onChange:e=>{s({iconSize:e})}}))),E.length>0&&"image"==b&&(0,e.createElement)(h.PanelBody,{title:(0,l.__)("Image Setting","master-embed-posts"),intialOpen:!1},(0,e.createElement)("div",{className:"wpmaster-spacer"},(0,e.createElement)("p",null,(0,l.__)("Ratio","master-embed-posts")),(0,e.createElement)(h.ButtonGroup,null,w.map(((t,l)=>(0,e.createElement)(h.Button,{onClick:()=>{s({imageRatio:t.value})},key:l,isPressed:t.value==_},t.title))))),(0,e.createElement)("div",{className:"wpmaster-spacer"},(0,e.createElement)("p",null,(0,l.__)("Width (%)","master-embed-posts")),(0,e.createElement)(h.RangeControl,{initialPosition:20,max:50,min:5,value:S,onChange:e=>s({imageWidth:e})})))),(0,e.createElement)(g,{blockProps:G,attributes:r}))},save:t=>{let{attributes:l}=t;const a=p.useBlockProps.save();return(0,e.createElement)(g,{blockProps:a,attributes:l})}})}},l={};function a(e){var r=l[e];if(void 0!==r)return r.exports;var n=l[e]={exports:{}};return t[e](n,n.exports,a),n.exports}a.m=t,e=[],a.O=(t,l,r,n)=>{if(!l){var s=1/0;for(m=0;m<e.length;m++){for(var[l,r,n]=e[m],o=!0,i=0;i<l.length;i++)(!1&n||s>=n)&&Object.keys(a.O).every((e=>a.O[e](l[i])))?l.splice(i--,1):(o=!1,n<s&&(s=n));if(o){e.splice(m--,1);var c=r();void 0!==c&&(t=c)}}return t}n=n||0;for(var m=e.length;m>0&&e[m-1][2]>n;m--)e[m]=e[m-1];e[m]=[l,r,n]},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0,431:0};a.O.j=t=>0===e[t];var t=(t,l)=>{var r,n,[s,o,i]=l,c=0;if(s.some((t=>0!==e[t]))){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);if(i)var m=i(a)}for(t&&t(l);c<s.length;c++)n=s[c],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(m)},l=globalThis.webpackChunkmaster_embed_posts=globalThis.webpackChunkmaster_embed_posts||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})();var r=a.O(void 0,[431],(()=>a(763)));r=a.O(r)})();